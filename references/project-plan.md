# 프로젝트 계획서 작성 프롬프트

> 이 프롬프트를 Claude에게 주고, 대화를 통해 **통합 프로젝트 계획서**를 완성한다.
> 완성된 계획서는 project-setup 스킬의 입력으로 사용된다.
> 아래의 프로젝트 개요 내용을 채우고 전체 프롬프트를 복사하여 Claude 에게 전달한다.

---

나는 [프로젝트 이름]을 만들려고 해. 대략의 프로젝트 개요는 다음과 같아.

## 프로젝트 개요
- 수행 작업:
- 워크플로우:


## 최종 산출물

**1개의 md 파일** — 제품 정의부터 구현 설계까지 담긴 통합 계획서.
이 문서는 Claude Code project-setup 스킬의 입력으로 사용된다.

---

## 계획서에 포함될 내용

### 1. 제품 컨텍스트

#### 한 줄 요약
이 프로젝트가 뭔지 한 문장.

#### 배경 및 목적
- 왜 만드는가? 어떤 문제를 해결하는가?
- 사용자는 누구인가? (역할이 여러 개면 각각 정의)

#### 핵심 기능 (3-7개)
기능별로:
- 기능명
- 설명 (1-2문장)
- 사용자 시나리오 (누가, 언제, 어떻게)
- 성공 기준 (구체적, 검증 가능 — "잘 동작한다" ❌ → "3초 내 응답" ✅)
- 우선순위 (P0 필수 / P1 중요 / P2 있으면 좋음)

#### 성공 기준 (Done의 정의)
이 체크리스트가 전부 ✅이면 MVP 완성:
- (P0 기능별 검증 가능한 조건)
- (비기능 충족 조건)

#### 비기능 요구사항
해당하는 것만: 성능, 보안, 접근성, SEO, 확장성

#### 범위 밖
이번에 명시적으로 안 만드는 것.

---

### 2. 워크플로우 정의

#### 사용자 플로우
[시작] → [단계1] → [단계2] → ... → [완료]
주요 분기점과 조건을 명시.

#### 에이전트 (LLM) 판단 vs 스크립트 (Claude Code)처리

| 에이전트가 직접 수행 | 스크립트로 처리 |
|---------------------|----------------|
| 분류, 의사결정, 우선순위 판단 | 파일 I/O, 데이터 파싱 |
| 품질 평가, 정성적 분석 | 외부 API 호출 |
| 컨텍스트 기반 추론 | 반복 처리, 집계 |
| 자연어 생성/요약 | 정적 분석, 테스트 실행 |

#### 단계별 검증

각 워크플로우 단계에 성공 기준 + 검증 방법 + 실패 처리를 명시.

검증 유형:
| 유형 | 적용 대상 | 예시 |
|------|----------|------|
| 스키마 검증 | 구조화된 산출물 | 필수 필드 존재, 타입 체크 |
| 규칙 기반 | 정량 기준이 있는 작업 | 항목 수, 글자 수 |
| LLM 자기 검증 | 정성적 판단 작업 | 요약 품질, 톤 적합성 |
| 사람 검토 | 고위험 최종 산출물 | 외부 발송 문서 |

실패 처리:
| 방식 | 사용 시점 |
|------|----------|
| 자동 재시도 | 단순 누락/형식 오류 (최대 횟수 명시) |
| 에스컬레이션 | 판단 불확실 → 사람에게 확인 |
| 스킵 + 로그 | 선택적 단계, 전체 흐름에 무영향 |

---

### 3. 툴 & 워크플로우 설계

#### MCP 서버 선정

기술 스택이 정해지면 아래 레퍼런스를 클론하여 검색하고 적합한 MCP 서버를 선정한다:
```bash
git clone --depth 1 https://github.com/johunsang/vive-md.git /tmp/vive-md
```
- **서버 카탈로그**: `/tmp/vive-md/vibe-coding/mcp/04-MCP-서버-카탈로그.md` — 스택별 추천 매트릭스 + 조합 레시피
- **설정 패턴**: `/tmp/vive-md/vibe-coding/mcp/03-MCP-실전-패턴-모음.md` — 검증된 `.mcp.json` 설정 복사
- **트러블슈팅**: `/tmp/vive-md/vibe-coding/mcp/README.md` (섹션 9) — 설정 오류 해결

산출물: 확정된 `.mcp.json`

#### 스킬 선정

위에서 클론한 vive-md 레포를 검색하여 프로젝트에 필요한 스킬을 선정한다:
- **스킬 카탈로그**: `/tmp/vive-md/vibe-coding/resources/Awesome-Claude-Skills-한국어-가이드.md` — 380개+ 스킬 탐색
- **스킬 작성법**: `/tmp/vive-md/vibe-coding/skills/` — 커스텀 스킬 작성 시 구조/패턴 참조

**필수 규칙: 프론트엔드가 포함된 프로젝트면 ui-ux-pro-max 스킬을 무조건 설치한다.**
```bash
git clone --depth 1 https://github.com/nextlevelbuilder/ui-ux-pro-max-skill.git /tmp/ui-ux-pro-max-skill
cp -r /tmp/ui-ux-pro-max-skill/.claude/skills/ui-ux-pro-max .claude/skills/
```

산출물: 설치할 스킬 목록 + 설치 명령어

---

### 4. 구현 설계

#### 기술 스택
- 프레임워크:
- 언어:
- DB:
- 호스팅/배포:
- 주요 라이브러리:

#### 에이전트 구조

**단일 에이전트** (기본): 워크플로우가 단순하고 지침이 짧을 때

**서브에이전트 분리** (필요 시):
- 컨텍스트 윈도우 최적화가 필요할 때
- 독립적 작업 블록이 명확히 구분될 때

서브에이전트 사용 시:
- 메인(CLAUDE.md)이 오케스트레이터
- 서브에이전트 간 직접 호출 금지 → 메인을 통해 조율
- 각 에이전트: 이름, 역할, 입출력, 참조 스킬 명시

#### 스킬 목록

> 이 프로젝트만의 **도메인 전용 스킬**만 정의한다.
> 범용 스킬(error-handling, testing, security, conventions 등)은 세팅 스킬이 자동 포함하므로 여기에 쓰지 않는다.
> 여기에 정의된 스킬은 세팅 시 `.claude/skills/{스킬명}/SKILL.md`로 자동 생성된다.

| 스킬명 | 역할 | 트리거 조건 | user-invocable |
|--------|------|------------|:--------------:|
| (예: image-generation) | (나노바나나프로 이미지 생성) | (이미지 생성·편집 작업 시) | false |

스킬 vs 서브에이전트 구분:
| 스킬 | 서브에이전트 |
|------|-------------|
| 도구/기능 단위 (작음) | 역할/책임 단위 (큼) |
| 여러 에이전트가 공유 가능 | 특정 워크플로우 전용 |

#### 폴더 구조

세팅 스킬이 자동 생성하므로 여기서는 정의하지 않는다.
프로젝트 소스코드의 주요 디렉토리만 간단히 명시:
- (예: src/app, src/services, src/lib 등 핵심 경로만)

#### 데이터 전달 패턴

| 방식 | 사용 시점 |
|------|----------|
| 파일 기반 | 데이터가 크거나 구조화 → `/output/step1_result.json` |
| 프롬프트 인라인 | 데이터가 작고 단순 |

#### 에러 전략
- 서비스별 fallback 방식
- 사용자 에러 vs 내부 로그 에러

#### 의존성 호환성 메모
비표준 조합 경고 (예: Remotion + Next.js). 없으면 생략.

---

### 5. 기술 결정 (선택)

> 선호가 있으면 채운다. 없으면 비워두고, 세팅 스킬이 스택에 맞게 기본값 적용.

#### UI 도구 + 폼 처리
- 컴포넌트 라이브러리: (shadcn / Radix / MUI / 직접 구현 / 미정)
- 폼 라이브러리: (react-hook-form / 서버 액션 / 미정)
- 밸리데이션: (zod 스키마 공유 / joi / 미정)

#### 데이터 흐름 패턴
- 서버 상태: (React Query / SWR / 서버 컴포넌트 / 미정)
- 전역 상태: (Zustand / Jotai / 불필요 / 미정)
- 실시간: (WebSocket / polling / 불필요 / 미정)

#### URL 구조
- 라우팅 패턴: (파일 기반 / 커스텀 / 미정)
- 필터/정렬: (URL searchParams / 상태 / 미정)

#### 외부 서비스 목록
| 서비스 | 용도 | API 종류 | 비고 |
|--------|------|----------|------|
| (예: Stripe) | (결제) | (REST) | (sandbox 키 필요) |

상세(웹훅, rate limit 등)는 개발 중 확인.

---

### 6. 구현 순서

의존 관계를 고려한 빌드 로드맵:

```
Phase 1: [기반] → (무엇을 먼저 만드는가)
Phase 2: [핵심] → (P0 기능)
Phase 3: [확장] → (P1 기능)
Phase 4: [마무리] → (P2 + 배포)
```

각 Phase에서:
- 만들 것 목록
- 선행 의존성 (이전 Phase의 뭐가 있어야 하는가)
- 완료 기준

---

## 설계 원칙 참고

계획서 작성 시 다음 원칙을 따른다:

### CLAUDE.md, SKILL.md 등의 상세 내용은 작성하지 않는다
계획서는 "무엇을, 어떤 구조로" 수준까지. 파일 내용은 project-setup 스킬이 생성.

### 빈칸/TODO를 남기지 않는다
정보가 없으면 합리적 판단으로 채우고 [추정] 표시.
단, 기술 결정(선택) 섹션은 "미정"이 허용됨.

### 기능별 에러 시나리오를 반드시 포함한다

### 범위 밖 섹션을 반드시 작성한다
스코프 크리프 방지.

---

## 진행 방식

### 1단계: 인터뷰

사용자 입력을 받으면 아래 영역의 정보가 충분한지 판단한다.
**부족한 영역이 있으면 해당 영역의 질문만 한다. 충분하면 바로 작성에 착수한다.**

| 영역 | 확인할 것 | 부족할 때 질문 예시 |
|------|----------|-------------------|
| **제품 목적** | 뭘 만드는지, 왜, 누가 쓰는지 명확한가? | "이걸 주로 누가 쓰게 되나요?" |
| **핵심 기능** | 구체적 기능 3개 이상, 우선순위가 있는가? | "가장 먼저 동작해야 하는 핵심 기능은?" |
| **기술 스택** | 프레임워크, DB, 배포 환경 선호가 있는가? | "기술 스택 선호가 있나요? 없으면 추천할게요" |
| **작업 절차** | 입력→출력까지의 단계, 분기 조건이 있는가? | "A 후에 B로 갈지 C로 갈지 기준이 뭔가요?" |
| **제약/범위** | 예산, 기간, 안 만들 것이 명확한가? | "이번에 명확하게 '안 만들 것'이 있나요?" |

### 질문 원칙

- **한 번에 최대 3개까지만** 질문
- "모르겠다" → 합리적 기본값 제안 + 근거 명시
- "알아서 해줘" → 기본값 적용하되, **핵심 선택지만** 확인 (인증 방식, DB 등)
- 이미 충분한 영역은 질문 안 함
- **뻔한 질문 금지** — "목표가 뭔가요?" 대신 구체적 분기점 질문
- 인터뷰 **1-3회 라운드**로 끝냄

### 2단계: 작성

인터뷰가 끝나면 계획서를 작성한다.
- 빈칸/TODO 남기지 않음 (기술 결정 섹션의 "미정" 제외)
- [추정] 표시로 불확실한 부분 명시
- 기능별 에러 시나리오 반드시 포함
- 범위 밖 섹션 반드시 작성

### 3단계: 리뷰

초안을 제시하고:
- "이 설계에서 가장 불확실한 부분"을 스스로 지적
- 수정 요청 시 해당 부분만 수정
- 최종 확인 후 파일로 저장

```
